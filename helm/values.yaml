# namespace는 리소스가 배포될 Kubernetes 네임스페이스를 지정
namespace: default

# backend는 백엔드 애플리케이션의 설정 섹션
backend:
  # backend.enabled는 백엔드 배포를 생성할지 여부를 제어하는 boolean 플래그
  enabled: true
  # backend.name는 백엔드 애플리케이션의 이름
  name: backend
  # backend.image는 백엔드의 컨테이너 이미지 설정
  image:
    # backend.image.repository는 백엔드의 컨테이너 이미지 저장소 이름
    repository: backend-app
    # backend.image.tag는 백엔드의 컨테이너 이미지 태그 버전
    tag: latest
    # backend.image.pullPolicy는 이미지 풀 정책으로, Minikube에서 로컬 이미지를 사용하기 위해 Never로 설정
    pullPolicy: Never
  # backend.replicas는 백엔드 배포를 위해 실행할 복제본 Pod의 개수
  replicas: 2
  # backend.service는 백엔드의 Kubernetes 서비스 설정
  service:
    # backend.service.type는 백엔드 서비스의 Kubernetes 서비스 타입
    type: ClusterIP
    # backend.service.port는 백엔드 서비스가 노출하는 포트 번호
    port: 80
    # backend.service.targetPort는 서비스가 트래픽을 전달하는 백엔드 Pod의 대상 포트 번호
    targetPort: 8000
  # backend.containerPort는 백엔드 애플리케이션이 리스닝하는 컨테이너 포트 번호
  containerPort: 8000
  # backend.resources는 백엔드 Pod의 리소스 요청 및 제한 설정
  resources:
    # backend.resources.requests는 백엔드 Pod에 필요한 최소 리소스 양
    requests:
      # backend.resources.requests.memory는 각 백엔드 Pod에 필요한 최소 메모리 양
      memory: "256Mi"
      # backend.resources.requests.cpu는 각 백엔드 Pod에 필요한 최소 CPU 양
      cpu: "250m"
    # backend.resources.limits는 백엔드 Pod에 허용되는 최대 리소스 양
    limits:
      # backend.resources.limits.memory는 각 백엔드 Pod에 허용되는 최대 메모리 양
      memory: "512Mi"
      # backend.resources.limits.cpu는 각 백엔드 Pod에 허용되는 최대 CPU 양
      cpu: "500m"
  # backend.livenessProbe는 백엔드 Pod가 살아있는지 확인하고 재시작해야 하는지 결정하는 liveness 프로브 설정
  livenessProbe:
    # backend.livenessProbe.httpGet는 liveness 체크를 위한 HTTP GET 프로브 설정
    httpGet:
      # backend.livenessProbe.httpGet.path는 liveness 프로브에 사용되는 HTTP 경로 엔드포인트
      path: /api/health/
      # backend.livenessProbe.httpGet.port는 liveness 프로브 HTTP 요청에 사용되는 포트 번호
      port: 8000
    # backend.livenessProbe.initialDelaySeconds는 첫 번째 liveness 프로브 체크를 시작하기 전에 대기할 초 단위 시간
    initialDelaySeconds: 30
    # backend.livenessProbe.periodSeconds는 연속적인 liveness 프로브 체크 사이의 초 단위 간격
    periodSeconds: 10
  # backend.readinessProbe는 백엔드 Pod가 트래픽을 받을 준비가 되었는지 확인하는 readiness 프로브 설정
  readinessProbe:
    # backend.readinessProbe.httpGet는 readiness 체크를 위한 HTTP GET 프로브 설정
    httpGet:
      # backend.readinessProbe.httpGet.path는 readiness 프로브에 사용되는 HTTP 경로 엔드포인트
      path: /api/health/
      # backend.readinessProbe.httpGet.port는 readiness 프로브 HTTP 요청에 사용되는 포트 번호
      port: 8000
    # backend.readinessProbe.initialDelaySeconds는 첫 번째 readiness 프로브 체크를 시작하기 전에 대기할 초 단위 시간
    initialDelaySeconds: 10
    # backend.readinessProbe.periodSeconds는 연속적인 readiness 프로브 체크 사이의 초 단위 간격
    periodSeconds: 5

# frontend는 프론트엔드 애플리케이션의 설정 섹션
frontend:
  # frontend.enabled는 프론트엔드 배포를 생성할지 여부를 제어하는 boolean 플래그
  enabled: true
  # frontend.name는 프론트엔드 애플리케이션의 이름
  name: frontend
  # frontend.image는 프론트엔드의 컨테이너 이미지 설정
  image:
    # frontend.image.repository는 프론트엔드의 컨테이너 이미지 저장소 이름
    repository: frontend-app
    # frontend.image.tag는 프론트엔드의 컨테이너 이미지 태그 버전
    tag: latest
    # frontend.image.pullPolicy는 이미지 풀 정책으로, Minikube에서 로컬 이미지를 사용하기 위해 Never로 설정
    pullPolicy: Never
  # frontend.replicas는 프론트엔드 배포를 위해 실행할 복제본 Pod의 개수
  replicas: 2
  # frontend.service는 프론트엔드의 Kubernetes 서비스 설정
  service:
    # frontend.service.type는 Kubernetes 서비스 타입으로, Minikube에서는 LoadBalancer 대신 NodePort를 사용
    type: NodePort
    # frontend.service.port는 프론트엔드 서비스가 노출하는 포트 번호
    port: 80
    # frontend.service.targetPort는 서비스가 트래픽을 전달하는 프론트엔드 Pod의 대상 포트 번호
    targetPort: 80
  # frontend.containerPort는 프론트엔드 애플리케이션이 리스닝하는 컨테이너 포트 번호
  containerPort: 80
  # frontend.resources는 프론트엔드 Pod의 리소스 요청 및 제한 설정
  resources:
    # frontend.resources.requests는 프론트엔드 Pod에 필요한 최소 리소스 양
    requests:
      # frontend.resources.requests.memory는 각 프론트엔드 Pod에 필요한 최소 메모리 양
      memory: "128Mi"
      # frontend.resources.requests.cpu는 각 프론트엔드 Pod에 필요한 최소 CPU 양
      cpu: "100m"
    # frontend.resources.limits는 프론트엔드 Pod에 허용되는 최대 리소스 양
    limits:
      # frontend.resources.limits.memory는 각 프론트엔드 Pod에 허용되는 최대 메모리 양
      memory: "256Mi"
      # frontend.resources.limits.cpu는 각 프론트엔드 Pod에 허용되는 최대 CPU 양
      cpu: "200m"

